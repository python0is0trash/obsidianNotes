#### EFS (Encrypted File System)
---
- Входит в состав Windows.
- Шифрует отдельные папки и файлы.
- Алгоритм:
	1. Система создает уникальный (случайный) ключ шифрования (FEK), который в дальнейшем сохраняется в зашифрованном виде в метаданных ФС (альтернативном потоке файла);
	2. Создается сертификат шифрования для пользователя, в котором хранятся открытый и закрытые ключи для шифрования и дешифрования FEK;
	3. FEK защищается путём асимметричного шифрования посредством открытого ключа пользователя;
	4. Расшифрование файла происходит с помощью расшифрованного закрытым ключом пользователя ключа FEK.
- Есть возможность сохранения копии.
- Взлом: Advanced EFS Data Recovery.
#### Bitlocker
---
- Входит в состав Windows.
- Можно шифровать либо целый том (диск), либо занятое пространство.
- Способы шифрования:
	1. TPM (отдельный физический микрочип на материнской плате);
	2. TPM + PIN;
	3. TPM + PIN + USB-ключ;
	4. TPM + USB-ключ;
	5. USB-ключ (требует активации через групповые политики);
	6. Пароль (требует активации через групповые политики, доступен с Win8).
- Алгоритм:
	1. При начале шифрования создается ключ FVEK (*Full Volume Encryption Key*), который используется для шифрования и расшифровки данных на зашифрованном объеме;
	2. Создается ключ VMK (*Volume Master Key*), который шифрует FVEK и либо хранится в зашифрованном виде, либо в модуле TPM, либо на USB-ключе, либо на диске в его метаданных;
	3. Если пользователь выбрал пароль в качестве защиты, то его хэш-значение используется в качестве ключа шифрования для ключа VMK.
- Есть возможность сохранения копии ключа восстановления.
- Взлом: 
	1.  EFDD (из дампа оперативной памяти), 
	2. скрипты с помощью dislocker (linux), 
	3. hashcat, j2r, 
	4. Passware, 
	5. а также, возможно, WinPE.